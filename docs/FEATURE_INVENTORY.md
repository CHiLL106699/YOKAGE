# YOChiLL é†«ç¾è¨ºæ‰€ SaaS å¹³å° - åŠŸèƒ½æ¨¡çµ„ç›¤é»èˆ‡ä¸²æ¥é—œä¿‚

> æœ€å¾Œæ›´æ–°ï¼š2026-01-17

---

## ä¸€ã€ç³»çµ±æ¶æ§‹æ¦‚è¦½

### 1.1 æŠ€è¡“æ£§
| å±¤ç´š | æŠ€è¡“ |
|------|------|
| å‰ç«¯ | React 19 + TypeScript + Tailwind CSS 4 + shadcn/ui |
| å¾Œç«¯ | Express 4 + tRPC 11 + Drizzle ORM |
| è³‡æ–™åº« | MySQL/TiDB |
| èªè­‰ | Manus OAuth + JWT Session |
| éƒ¨ç½² | Manus Platform |

### 1.2 è·¯ç”±çµæ§‹
```
/                       â†’ é¦–é  (Home)
/super-admin/*          â†’ è¶…ç´šç®¡ç†å“¡å¾Œå°
/clinic/*               â†’ è¨ºæ‰€ç®¡ç†å¾Œå°
/liff/*                 â†’ LINE LIFF å®¢æˆ¶ç«¯/å“¡å·¥ç«¯
```

---

## äºŒã€åŠŸèƒ½æ¨¡çµ„æ¸…å–®

### 2.1 æ ¸å¿ƒç®¡ç†æ¨¡çµ„

| æ¨¡çµ„ | é é¢ | API Router | ç‹€æ…‹ | èªªæ˜ |
|------|------|------------|------|------|
| å®¢æˆ¶ç®¡ç† | CustomersPage | customer | âœ… å®Œæˆ | CRUDã€æ¨™ç±¤ã€æœå°‹ã€åˆ†é ã€åŒ¯å‡º |
| å®¢æˆ¶è©³æƒ… | CustomerDetailPage | customer | âœ… å®Œæˆ | 360åº¦å®¢æˆ¶è¦–åœ–ã€æ­·å²è¨˜éŒ„ |
| é ç´„ç®¡ç† | AppointmentsPage | appointment | âœ… å®Œæˆ | æ—¥æ›†è¦–åœ–ã€ç‹€æ…‹ç®¡ç† |
| ç”¢å“ç®¡ç† | ProductsPage | product | âœ… å®Œæˆ | ç™‚ç¨‹/ç”¢å“ CRUD |
| å“¡å·¥ç®¡ç† | StaffPage | staff | âœ… å®Œæˆ | å“¡å·¥ CRUDã€è·ä½ç®¡ç† |
| è¨‚å–®ç®¡ç† | OrdersPage | order | âœ… å®Œæˆ | è¨‚å–®åˆ—è¡¨ã€è©³æƒ…ã€ç‹€æ…‹ |
| å„ªæƒ åˆ¸ | CouponsPage | coupon | âœ… å®Œæˆ | å„ªæƒ åˆ¸ CRUD |
| åº«å­˜ç®¡ç† | InventoryPage | inventory | âœ… å®Œæˆ | åº«å­˜è¿½è¹¤ã€æˆæœ¬åˆ†æ |

### 2.2 ç™‚ç¨‹èˆ‡ç—…æ­·æ¨¡çµ„

| æ¨¡çµ„ | é é¢ | API Router | ç‹€æ…‹ | èªªæ˜ |
|------|------|------------|------|------|
| ç™‚ç¨‹è¨˜éŒ„ | TreatmentRecordsPage | treatment | âœ… å®Œæˆ | ç™‚ç¨‹ CRUDã€ç…§ç‰‡ä¸Šå‚³ |
| ç™‚ç¨‹è¿½è¹¤ | TreatmentTrackingPage | treatment | âœ… å®Œæˆ | ç™‚ç¨‹é€²åº¦è¿½è¹¤ |
| è«®è©¢ç®¡ç† | ConsultationManagementPage | consultation | âœ… å®Œæˆ | è«®è©¢è¨˜éŒ„ç®¡ç† |
| è¡“å¾Œé—œæ‡· | AftercarePage | aftercare | âœ… å®Œæˆ | è¡“å¾Œè¿½è¹¤æé†’ |
| è¿½è¹¤å›è¨ª | followUp | followUp | âœ… å®Œæˆ | å®¢æˆ¶å›è¨ªæ’ç¨‹ |

### 2.3 åˆ†æèˆ‡å ±è¡¨æ¨¡çµ„

| æ¨¡çµ„ | é é¢ | API Router | ç‹€æ…‹ | èªªæ˜ |
|------|------|------------|------|------|
| RFM åˆ†æ | RFMAnalysisPage | rfm | âœ… å®Œæˆ | å®¢æˆ¶åƒ¹å€¼åˆ†ç¾¤ |
| ç‡Ÿæ”¶ç›®æ¨™ | RevenueTargetPage | revenueTarget | âœ… å®Œæˆ | æœˆåº¦ç›®æ¨™è¿½è¹¤ |
| æ»¿æ„åº¦èª¿æŸ¥ | SatisfactionSurveyPage | satisfaction | âœ… å®Œæˆ | NPS åˆ†æ |
| å®¢æˆ¶ä¾†æº ROI | CustomerSourceROIPage | marketing | âœ… å®Œæˆ | è¡ŒéŠ·æ¸ é“åˆ†æ |
| å ±è¡¨ä¸­å¿ƒ | ReportsPage | report | âœ… å®Œæˆ | ç¶œåˆå ±è¡¨ |
| æ•¸æ“šåˆ†æ | AnalyticsPage | clinic | âœ… å®Œæˆ | å„€è¡¨æ¿çµ±è¨ˆ |

### 2.4 äººè³‡èˆ‡æ’ç­æ¨¡çµ„

| æ¨¡çµ„ | é é¢ | API Router | ç‹€æ…‹ | èªªæ˜ |
|------|------|------------|------|------|
| æ’ç­ç®¡ç† | SchedulePage | schedule | âœ… å®Œæˆ | å“¡å·¥æ’ç­ |
| æ‰“å¡è€ƒå‹¤ | AttendancePage | attendance | âœ… å®Œæˆ | æ‰“å¡è¨˜éŒ„ |
| è€ƒå‹¤è¿½è¹¤ | AttendanceTrackingPage | attendance | âœ… å®Œæˆ | è€ƒå‹¤çµ±è¨ˆ |
| ä½£é‡‘ç®¡ç† | CommissionManagementPage | commission | âœ… å®Œæˆ | æ¥­ç¸¾ä½£é‡‘è¨ˆç®— |
| HR ç®¡ç† | HRManagementPage | staff | âœ… å®Œæˆ | äººè³‡ç¶œåˆç®¡ç† |

### 2.5 LINE æ•´åˆæ¨¡çµ„

| æ¨¡çµ„ | é é¢ | API Router | ç‹€æ…‹ | èªªæ˜ |
|------|------|------------|------|------|
| LINE è¨­å®š | LineSettingsPage | line | âš ï¸ å¾…ä¸²æ¥ | Channel è¨­å®š |
| LINE æ•´åˆ | LineIntegrationPage | line | âš ï¸ å¾…ä¸²æ¥ | æ•´åˆç¸½è¦½ |
| Rich Menu | RichMenuPage | line | âš ï¸ å¾…ä¸²æ¥ | åœ–æ–‡é¸å–®ç®¡ç† |
| Flex Message | FlexMessagePage | line | âš ï¸ å¾…ä¸²æ¥ | è¨Šæ¯æ¨¡æ¿ |
| Webhook | WebhookPage | line | âš ï¸ å¾…ä¸²æ¥ | Webhook è¨­å®š |

### 2.6 LIFF å®¢æˆ¶ç«¯æ¨¡çµ„

| æ¨¡çµ„ | é é¢ | API Router | ç‹€æ…‹ | èªªæ˜ |
|------|------|------------|------|------|
| ç·šä¸Šé ç´„ | LiffBookingPage | appointment | âœ… å®Œæˆ | å®¢æˆ¶è‡ªåŠ©é ç´„ |
| æœƒå“¡ä¸­å¿ƒ | LiffMemberPage | customer | âœ… å®Œæˆ | æœƒå“¡è³‡æ–™æŸ¥çœ‹ |
| ç·šä¸Šå•†åŸ | LiffShopPage | product | âœ… å®Œæˆ | ç”¢å“ç€è¦½ |
| è³¼ç‰©è»Š | LiffCartPage | order | âœ… å®Œæˆ | è³¼ç‰©è»Šç®¡ç† |
| çµå¸³ | LiffCheckoutPage | order | âœ… å®Œæˆ | è¨‚å–®çµå¸³ |
| è¨‚å–®åˆ—è¡¨ | LiffOrdersPage | order | âœ… å®Œæˆ | è¨‚å–®æ­·å² |
| è¨‚å–®è©³æƒ… | LiffOrderDetailPage | order | âœ… å®Œæˆ | è¨‚å–®æ˜ç´° |

### 2.7 LIFF å“¡å·¥ç«¯æ¨¡çµ„

| æ¨¡çµ„ | é é¢ | API Router | ç‹€æ…‹ | èªªæ˜ |
|------|------|------------|------|------|
| å“¡å·¥æ‰“å¡ | LiffStaffClockPage | attendance | âœ… å®Œæˆ | è¡Œå‹•æ‰“å¡ |
| ä»»å‹™ç®¡ç† | LiffStaffTasksPage | staff | âœ… å®Œæˆ | å¾…è¾¦ä»»å‹™ |
| ç­è¡¨æŸ¥è©¢ | LiffStaffSchedulePage | schedule | âœ… å®Œæˆ | å€‹äººç­è¡¨ |
| è«‹å‡ç”³è«‹ | LiffStaffLeavePage | attendance | âœ… å®Œæˆ | ç·šä¸Šè«‹å‡ |

### 2.8 é€²éšåŠŸèƒ½æ¨¡çµ„ (Phase 26-48)

| æ¨¡çµ„ | é é¢ | API Router | ç‹€æ…‹ | èªªæ˜ |
|------|------|------------|------|------|
| AI èŠå¤©æ©Ÿå™¨äºº | AIChatbotPage | - | ğŸ”§ UI å®Œæˆ | AI å®¢æœè¨­å®š |
| è¡ŒéŠ·è‡ªå‹•åŒ– | MarketingAutomationPage | marketing | âœ… å®Œæˆ | è‡ªå‹•åŒ–è¡ŒéŠ· |
| éŠæˆ²åŒ–æ©Ÿåˆ¶ | GamificationPage | - | ğŸ”§ UI å®Œæˆ | æœƒå“¡ç©åˆ†éŠæˆ² |
| æœƒå“¡è­·ç…§ | MemberPassportPage | customer | ğŸ”§ UI å®Œæˆ | è·¨åº—æœƒå“¡ |
| è¨Šæ¯ä¸­å¿ƒ | MessageCenterPage | - | ğŸ”§ UI å®Œæˆ | çµ±ä¸€è¨Šæ¯ç®¡ç† |
| ç¤¾ç¾¤è¡ŒéŠ· | SocialMarketingPage | social | âœ… å®Œæˆ | ç¤¾ç¾¤ç™¼æ–‡æ’ç¨‹ |
| ä¾›æ‡‰å•†ç®¡ç† | SupplierManagementPage | inventory | ğŸ”§ UI å®Œæˆ | ä¾›æ‡‰å•† CRUD |
| è©•åƒ¹ç®¡ç† | ReviewManagementPage | - | ğŸ”§ UI å®Œæˆ | å®¢æˆ¶è©•åƒ¹ |
| å¤šåˆ†åº— | MultiBranchPage | organization | ğŸ”§ UI å®Œæˆ | åˆ†åº—ç®¡ç† |
| åˆç´„ç®¡ç† | ContractManagementPage | - | ğŸ”§ UI å®Œæˆ | å®¢æˆ¶åˆç´„ |
| æ¨è–¦å¼•æ“ | RecommendationEnginePage | - | ğŸ”§ UI å®Œæˆ | AI æ¨è–¦ |
| æ™ºæ…§æ’ç­ | SmartSchedulingPage | schedule | ğŸ”§ UI å®Œæˆ | AI æ’ç­ |
| å®¢æˆ¶ 360 | Customer360Page | customer | âœ… å®Œæˆ | å…¨æ–¹ä½å®¢æˆ¶è¦–åœ– |

### 2.9 é†«ç¾å°ˆæ¥­æ¨¡çµ„ (Phase 41-48)

| æ¨¡çµ„ | é é¢ | API Router | ç‹€æ…‹ | èªªæ˜ |
|------|------|------------|------|------|
| æ³¨å°„é»ä½åœ– | InjectionMappingPage | injection | âœ… å®Œæˆ | æ³¨å°„éƒ¨ä½è¨˜éŒ„ |
| åŒæ„æ›¸ç®¡ç† | ConsentFormPage | consent | âœ… å®Œæˆ | é›»å­åŒæ„æ›¸ |
| è™•æ–¹ç®¡ç† | PrescriptionPage | prescription | âœ… å®Œæˆ | è™•æ–¹é–‹ç«‹ |
| è†šè³ªåˆ†æ | SkinAnalysisPage | skinAnalysis | âœ… å®Œæˆ | AI è†šè³ªåˆ†æ |
| è¨‚é–±æ–¹æ¡ˆ | SubscriptionPage | subscription | âœ… å®Œæˆ | æœƒå“¡è¨‚é–± |
| é è·è«®è©¢ | TeleconsultPage | teleConsult | âœ… å®Œæˆ | è¦–è¨Šè«®è©¢ |
| è½‰ä»‹ç³»çµ± | ReferralPage | referral | âœ… å®Œæˆ | å®¢æˆ¶è½‰ä»‹ |
| ç¤¾ç¾¤æ•´åˆ | SocialIntegrationPage | social | âœ… å®Œæˆ | ç¤¾ç¾¤å¸³è™Ÿé€£çµ |

### 2.10 è¶…ç´šç®¡ç†å“¡æ¨¡çµ„

| æ¨¡çµ„ | é é¢ | API Router | ç‹€æ…‹ | èªªæ˜ |
|------|------|------------|------|------|
| ç®¡ç†å„€è¡¨æ¿ | SuperAdminDashboard | superAdmin | âœ… å®Œæˆ | å¹³å°ç¸½è¦½ |
| çµ„ç¹”ç®¡ç† | OrganizationsPage | superAdmin | âœ… å®Œæˆ | è¨ºæ‰€ CRUD |
| å¸³å‹™ç®¡ç† | BillingPage | - | ğŸ”§ UI å®Œæˆ | å¹³å°å¸³å‹™ |
| API æ–‡ä»¶ | ApiDocsPage | - | ğŸ”§ UI å®Œæˆ | API èªªæ˜ |
| ç™½æ¨™è¨­å®š | WhiteLabelPage | - | ğŸ”§ UI å®Œæˆ | å“ç‰Œå®¢è£½ |

---

## ä¸‰ã€API Router ä¸²æ¥é—œä¿‚

### 3.1 æ ¸å¿ƒ Router åˆ—è¡¨

```typescript
export const appRouter = router({
  system: systemRouter,        // ç³»çµ±é€šçŸ¥
  auth: authRouter,            // èªè­‰ç™»å‡º
  superAdmin: superAdminRouter, // è¶…ç®¡åŠŸèƒ½
  organization: organizationRouter, // çµ„ç¹”ç®¡ç†
  customer: customerRouter,    // å®¢æˆ¶ç®¡ç†
  product: productRouter,      // ç”¢å“ç®¡ç†
  staff: staffRouter,          // å“¡å·¥ç®¡ç†
  appointment: appointmentRouter, // é ç´„ç®¡ç†
  schedule: scheduleRouter,    // æ’ç­ç®¡ç†
  attendance: attendanceRouter, // è€ƒå‹¤ç®¡ç†
  order: orderRouter,          // è¨‚å–®ç®¡ç†
  coupon: couponRouter,        // å„ªæƒ åˆ¸
  aftercare: aftercareRouter,  // è¡“å¾Œé—œæ‡·
  line: lineRouter,            // LINE æ•´åˆ
  clinic: clinicRouter,        // è¨ºæ‰€å„€è¡¨æ¿
  report: reportRouter,        // å ±è¡¨
  treatment: treatmentRouter,  // ç™‚ç¨‹è¨˜éŒ„
  package: packageRouter,      // å¥—é¤æ–¹æ¡ˆ
  consultation: consultationRouter, // è«®è©¢ç®¡ç†
  followUp: followUpRouter,    // è¿½è¹¤å›è¨ª
  rfm: rfmRouter,              // RFM åˆ†æ
  commission: commissionRouter, // ä½£é‡‘ç®¡ç†
  inventory: inventoryRouter,  // åº«å­˜ç®¡ç†
  revenueTarget: revenueTargetRouter, // ç‡Ÿæ”¶ç›®æ¨™
  marketing: marketingRouter,  // è¡ŒéŠ·æ´»å‹•
  satisfaction: satisfactionRouter, // æ»¿æ„åº¦
  injection: injectionRouter,  // æ³¨å°„é»ä½
  consent: consentRouter,      // åŒæ„æ›¸
  prescription: prescriptionRouter, // è™•æ–¹
  skinAnalysis: skinAnalysisRouter, // è†šè³ªåˆ†æ
  subscription: subscriptionRouter, // è¨‚é–±
  teleConsult: teleConsultRouter, // é è·è«®è©¢
  referral: referralRouter,    // è½‰ä»‹
  social: socialRouter,        // ç¤¾ç¾¤æ•´åˆ
});
```

### 3.2 è³‡æ–™æµå‘åœ–

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        å‰ç«¯é é¢å±¤                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  CustomersPage â”€â”€â”¬â”€â”€ CustomerDetailPage â”€â”€â”¬â”€â”€ Customer360Page   â”‚
â”‚                  â”‚                        â”‚                      â”‚
â”‚  AppointmentsPage â”€â”€â”€ TreatmentRecordsPage â”€â”€â”€ AftercarePage    â”‚
â”‚                  â”‚                        â”‚                      â”‚
â”‚  ProductsPage â”€â”€â”€â”´â”€â”€ OrdersPage â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€ InventoryPage     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        tRPC Router å±¤                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  customer â†â†’ appointment â†â†’ treatment â†â†’ order                  â”‚
â”‚      â†“           â†“            â†“          â†“                      â”‚
â”‚  rfm â†â”€â”€â”€â”€â”€ satisfaction â†â”€â”€ commission â† revenueTarget         â”‚
â”‚      â†“           â†“            â†“          â†“                      â”‚
â”‚  marketing â†â”€ followUp â†â”€â”€â”€â”€ inventory â† report                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        è³‡æ–™åº«å±¤ (Drizzle ORM)                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  customers â†â†’ appointments â†â†’ treatmentRecords â†â†’ orders        â”‚
â”‚  products â†â†’ staff â†â†’ attendance â†â†’ commissions                 â”‚
â”‚  organizations â†â†’ users â†â†’ coupons â†â†’ inventory                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## å››ã€åŠŸèƒ½ä¸²æ¥é©—è­‰æ¸…å–®

### 4.1 å®¢æˆ¶ç®¡ç†æµç¨‹
- [x] æ–°å¢å®¢æˆ¶ â†’ è‡ªå‹•å»ºç«‹ RFM è¨˜éŒ„
- [x] å®¢æˆ¶è©³æƒ… â†’ é¡¯ç¤ºé ç´„æ­·å²
- [x] å®¢æˆ¶è©³æƒ… â†’ é¡¯ç¤ºç™‚ç¨‹è¨˜éŒ„
- [x] å®¢æˆ¶è©³æƒ… â†’ é¡¯ç¤ºè¨‚å–®æ­·å²
- [x] å®¢æˆ¶æ¨™ç±¤ â†’ æ”¯æ´å¤šæ¨™ç±¤

### 4.2 é ç´„ç®¡ç†æµç¨‹
- [x] æ–°å¢é ç´„ â†’ é—œè¯å®¢æˆ¶
- [x] é ç´„ç¢ºèª â†’ ç™¼é€é€šçŸ¥ (å¾… LINE ä¸²æ¥)
- [x] é ç´„å®Œæˆ â†’ å¯å»ºç«‹ç™‚ç¨‹è¨˜éŒ„
- [x] é ç´„å–æ¶ˆ â†’ æ›´æ–°ç‹€æ…‹

### 4.3 ç™‚ç¨‹è¨˜éŒ„æµç¨‹
- [x] æ–°å¢ç™‚ç¨‹ â†’ é—œè¯å®¢æˆ¶ã€å“¡å·¥ã€ç”¢å“
- [x] ç™‚ç¨‹ç…§ç‰‡ â†’ ä¸Šå‚³ S3 å„²å­˜
- [x] ç™‚ç¨‹å®Œæˆ â†’ æ›´æ–°æ»¿æ„åº¦
- [x] ç™‚ç¨‹è¿½è¹¤ â†’ è‡ªå‹•å»ºç«‹è¿½è¹¤ä»»å‹™

### 4.4 è¨‚å–®ç®¡ç†æµç¨‹
- [x] æ–°å¢è¨‚å–® â†’ é—œè¯å®¢æˆ¶ã€ç”¢å“
- [x] è¨‚å–®ä»˜æ¬¾ â†’ æ›´æ–°ç‹€æ…‹
- [x] è¨‚å–®å®Œæˆ â†’ æ›´æ–°å®¢æˆ¶æ¶ˆè²»çµ±è¨ˆ
- [x] è¨‚å–®é€€æ¬¾ â†’ åº«å­˜å›è£œ

### 4.5 å ±è¡¨åˆ†ææµç¨‹
- [x] RFM è¨ˆç®— â†’ è®€å–å®¢æˆ¶æ¶ˆè²»æ•¸æ“š
- [x] ç‡Ÿæ”¶ç›®æ¨™ â†’ çµ±è¨ˆè¨‚å–®é‡‘é¡
- [x] æ»¿æ„åº¦åˆ†æ â†’ çµ±è¨ˆèª¿æŸ¥çµæœ
- [x] å®¢æˆ¶ä¾†æº ROI â†’ åˆ†æè¡ŒéŠ·æ¸ é“

---

## äº”ã€å¾…å„ªåŒ–é …ç›®

### 5.1 å¾…ä¸²æ¥åŠŸèƒ½
| åŠŸèƒ½ | å„ªå…ˆç´š | èªªæ˜ |
|------|--------|------|
| LINE Channel ä¸²æ¥ | é«˜ | éœ€è¦ Channel ID/Secret/Access Token |
| LINE Pay é‡‘æµ | é«˜ | éœ€è¦ LINE Pay API æ†‘è­‰ |
| æ¨æ’­é€šçŸ¥ | ä¸­ | éœ€è¦ LINE Messaging API |
| AI èŠå¤©æ©Ÿå™¨äºº | ä¸­ | éœ€è¦ LLM API æ•´åˆ |

### 5.2 UI/UX å„ªåŒ–
| é é¢ | å„ªå…ˆç´š | èªªæ˜ |
|------|--------|------|
| InventoryPage | ä¸­ | å¥—ç”¨é€šç”¨å…ƒä»¶ |
| SchedulePage | ä¸­ | å¥—ç”¨é€šç”¨å…ƒä»¶ |
| AttendancePage | ä¸­ | å¥—ç”¨é€šç”¨å…ƒä»¶ |
| CouponsPage | ä½ | å¥—ç”¨é€šç”¨å…ƒä»¶ |

### 5.3 æ•ˆèƒ½å„ªåŒ–
| é …ç›® | å„ªå…ˆç´š | èªªæ˜ |
|------|--------|------|
| RFM è¨ˆç®— | é«˜ | å¤§é‡å®¢æˆ¶æ™‚æ•ˆèƒ½å„ªåŒ– |
| å ±è¡¨å¿«å– | ä¸­ | å ±è¡¨è³‡æ–™å¿«å–æ©Ÿåˆ¶ |
| åˆ†é å„ªåŒ– | ä½ | æ¸¸æ¨™åˆ†é å–ä»£ offset |

---

## å…­ã€é€šç”¨å…ƒä»¶å¥—ç”¨ç‹€æ…‹

### 6.1 å·²å¥—ç”¨é é¢
| é é¢ | PageHeader | StatGrid | SearchInput | SkeletonTable | EmptyState | DataPagination | ExportButton | ConfirmDialog |
|------|------------|----------|-------------|---------------|------------|----------------|--------------|---------------|
| CustomersPage | âœ… | âœ… | âœ… | âœ… | âœ… | âœ… | âœ… | âœ… |
| AppointmentsPage | âœ… | âœ… | - | âœ… | âœ… | - | - | âœ… |
| ProductsPage | âœ… | âœ… | âœ… | âœ… | âœ… | âœ… | âœ… | âœ… |
| StaffPage | âœ… | âœ… | âœ… | âœ… | âœ… | âœ… | âœ… | âœ… |
| OrdersPage | âœ… | âœ… | âœ… | âœ… | âœ… | âœ… | âœ… | - |
| TreatmentRecordsPage | âœ… | âœ… | âœ… | âœ… | âœ… | âœ… | âœ… | - |

### 6.2 å¾…å¥—ç”¨é é¢
- InventoryPage
- SchedulePage
- AttendancePage
- CouponsPage
- ReportsPage
- RFMAnalysisPage
- SatisfactionSurveyPage
- RevenueTargetPage

---

## ä¸ƒã€æ¸¬è©¦è¦†è“‹ç‡

### 7.1 å–®å…ƒæ¸¬è©¦
| æ¸¬è©¦æª”æ¡ˆ | æ¸¬è©¦æ•¸é‡ | ç‹€æ…‹ |
|----------|----------|------|
| auth.logout.test.ts | 1 | âœ… é€šé |
| organization.test.ts | 11 | âœ… é€šé |
| reports.test.ts | 8 | âœ… é€šé |
| core-features.test.ts | 24 | âœ… é€šé (1 skip) |

### 7.2 æ¸¬è©¦ç¸½è¨ˆ
- **ç¸½æ¸¬è©¦æ•¸**: 44
- **é€šé**: 43
- **è·³é**: 1 (RFM calculateAll - æ•ˆèƒ½å•é¡Œ)
- **å¤±æ•—**: 0

---

## å…«ã€ç‰ˆæœ¬æ­·å²

| ç‰ˆæœ¬ | æ—¥æœŸ | èªªæ˜ |
|------|------|------|
| 1.0.0 | 2026-01-17 | åˆå§‹åŠŸèƒ½ç›¤é» |

---

*æ­¤æ–‡æª”ç”±ç³»çµ±è‡ªå‹•ç”Ÿæˆï¼Œè«‹å‹¿æ‰‹å‹•ç·¨è¼¯ã€‚*
